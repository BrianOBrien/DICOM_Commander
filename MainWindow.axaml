<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="DicomSync.MainWindow"
        Width="1300" Height="700"
        MinWidth="1150"
        Title="DICOM Sync">

  <Grid RowDefinitions="Auto,Auto,*,Auto">

    <!-- ========================================================= -->
    <!-- Row 0 : GLOBAL AE CONFIG                                 -->
    <!-- ========================================================= -->
    <Border Grid.Row="0"
            Margin="10,10,10,5"
            BorderBrush="Gray"
            BorderThickness="1"
            CornerRadius="4">

      <Border Margin="6"
              BorderBrush="Gray"
              BorderThickness="1"
              CornerRadius="3"
              HorizontalAlignment="Stretch">

        <Grid Margin="6"
              ColumnDefinitions="Auto,*,Auto,*,Auto,Auto,Auto">

          <TextBlock Grid.Column="0"
                     Text="AE Title:"
                     VerticalAlignment="Center"
                     Margin="0,0,4,0" />
          <TextBox Grid.Column="1"
                   x:Name="AetTitleBox"
                   Margin="0,0,8,0"
                   Watermark="REMOTE_AE" />

          <TextBlock Grid.Column="2"
                     Text="Hostname:"
                     VerticalAlignment="Center"
                     Margin="0,0,4,0" />
          <TextBox Grid.Column="3"
                   x:Name="HostnameBox"
                   Margin="0,0,8,0"
                   Watermark="pacs.example.com" />

          <TextBlock Grid.Column="4"
                     Text="Port:"
                     VerticalAlignment="Center"
                     Margin="0,0,4,0" />
          <TextBox Grid.Column="5"
                   x:Name="PortBox"
                   Width="70"
                   Text="104"
                   Margin="0,0,8,0" />

          <Button Grid.Column="6"
                  Content="Echo"
                  Width="80"
                  Margin="0,0,4,0"
                  HorizontalAlignment="Right"
                  VerticalAlignment="Center"
                  Click="OnGlobalEchoClick" />

        </Grid>
      </Border>
    </Border>



    <!-- ========================================================= -->
    <!-- Row 1 : DATE RANGE (1A) + SEARCH LEVELS (1B)              -->
    <!-- ========================================================= -->
    <Border Grid.Row="1"
            Margin="10,0,10,5"
            BorderBrush="Gray"
            BorderThickness="1"
            CornerRadius="4">

      <Grid Margin="8"
            RowDefinitions="Auto,Auto">

 <!-- ===== Row 1A: Date Range (centered, full controls visible) ===== -->
<StackPanel Grid.Row="0"
            Orientation="Horizontal"
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            Spacing="12">

  <TextBlock Text="Date Range:"
             VerticalAlignment="Center"
             Margin="0,0,8,0" />

  <TextBlock Text="From:"
             VerticalAlignment="Center"
             Margin="0,0,4,0" />

  <DatePicker x:Name="FromDatePicker"
              MinWidth="260"
              Width="260" />

  <TextBlock Text="To:"
             VerticalAlignment="Center"
             Margin="12,0,4,0" />

  <DatePicker x:Name="ToDatePicker"
              MinWidth="260"
              Width="260" />
</StackPanel>

        <!-- ===== Row 1B: Search Levels (centered) ===== -->
        <StackPanel Grid.Row="1"
                    Orientation="Horizontal"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Spacing="12"
                    Margin="0,6,0,0">

          <TextBlock Text="Search Levels:"
                     VerticalAlignment="Center"
                     Margin="0,0,8,0" />

          <CheckBox x:Name="PatientCheck"
                    Content="Patient"
                    IsChecked="True" />

          <CheckBox x:Name="StudyCheck"
                    Content="Study"
                    IsChecked="True" />

          <CheckBox x:Name="SeriesCheck"
                    Content="Series"
                    IsChecked="True" />

          <CheckBox x:Name="InstanceCheck"
                    Content="Instance"
                    IsChecked="True" />

          <CheckBox x:Name="FrameCheck"
                    Content="Frame"
                    IsChecked="True" />
        </StackPanel>

      </Grid>
    </Border>
    <!-- ========================================================= -->
    <!-- Row 2 : LEFT PACS | ACTION PANEL | RIGHT PACS            -->
    <!-- ========================================================= -->
    <Grid Grid.Row="2"
          Margin="10,5,10,5"
          ColumnDefinitions="*,Auto,*">

      <!-- ========================================= -->
      <!-- LEFT PACS PANEL                           -->
      <!-- ========================================= -->
      <Border Grid.Column="0"
              Margin="0,0,5,0"
              BorderBrush="Gray"
              BorderThickness="1"
              CornerRadius="4">

        <Grid Margin="6"
              RowDefinitions="Auto,*">

          <!-- LEFT AE rectangle -->
          <Border Grid.Row="0"
                  BorderBrush="Gray"
                  BorderThickness="1"
                  CornerRadius="3"
                  Margin="0,0,0,6">

            <Grid Margin="6"
                  ColumnDefinitions="Auto,*,Auto,*,Auto,Auto,Auto">

              <TextBlock Grid.Column="0"
                         Text="AE Title:"
                         VerticalAlignment="Center"
                         Margin="0,0,4,0" />
              <TextBox Grid.Column="1"
                       x:Name="LeftAeTitleBox"
                       Margin="0,0,8,0"
                       Watermark="LEFT_AE" />

              <TextBlock Grid.Column="2"
                         Text="Hostname:"
                         VerticalAlignment="Center"
                         Margin="0,0,4,0" />
              <TextBox Grid.Column="3"
                       x:Name="LeftHostnameBox"
                       Margin="0,0,8,0"
                       Watermark="left.host" />

              <TextBlock Grid.Column="4"
                         Text="Port:"
                         VerticalAlignment="Center"
                         Margin="0,0,4,0" />
              <TextBox Grid.Column="5"
                       x:Name="LeftPortBox"
                       Width="70"
                       Text="104"
                       Margin="0,0,8,0" />

              <Button Grid.Column="6"
                      Content="Echo"
                      Width="70"
                      Margin="0,0,4,0"
                      HorizontalAlignment="Right"
                      VerticalAlignment="Center"
                      Click="OnLeftEchoClick" />

            </Grid>
          </Border>

          <!-- LEFT TreeView -->
          <Border Grid.Row="1"
                  BorderBrush="Gray"
                  BorderThickness="1"
                  CornerRadius="3">
            <TreeView Margin="4"
                      x:Name="LeftTree">
              <TreeViewItem Header="Left Root">
                <TreeViewItem Header="Left 1.1"/>
                <TreeViewItem Header="Left 1.2"/>
              </TreeViewItem>
            </TreeView>
          </Border>

        </Grid>
      </Border>



      <!-- ========================================= -->
      <!-- MIDDLE ACTION PANEL                        -->
      <!-- ========================================= -->
      <Border Grid.Column="1"
              Margin="5,0,5,0"
              BorderBrush="Gray"
              BorderThickness="1"
              CornerRadius="4"
              VerticalAlignment="Stretch">

        <StackPanel Orientation="Vertical"
            Margin="8"
            VerticalAlignment="Top"
            HorizontalAlignment="Center"
            Spacing="12">

  <!-- Query Left -->
  <Button Width="170" Height="70" Click="OnQueryLeftClick">
    <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="4">
      <Image Source="avares://DicomSync/Resources/arrow_left.png"
             Width="24" Height="24" />
      <TextBlock Text="Query Left" HorizontalAlignment="Center"/>
    </StackPanel>
  </Button>

  <!-- Query Right -->
  <Button Width="170" Height="70" Click="OnQueryRightClick">
    <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="4">
      <Image Source="avares://DicomSync/Resources/arrow_right.png"
             Width="24" Height="24" />
      <TextBlock Text="Query Right" HorizontalAlignment="Center"/>
    </StackPanel>
  </Button>

  <!-- Move Left → Right -->
  <Button Width="170" Height="70" Click="OnMoveLeftToRightClick">
    <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="4">
      <Image Source="avares://DicomSync/Resources/arrow_right.png"
             Width="24" Height="24" />
      <TextBlock Text="Move → Right" HorizontalAlignment="Center"/>
    </StackPanel>
  </Button>

  <!-- Move Left ← Right -->
  <Button Width="170" Height="70" Click="OnMoveRightToLeftClick">
    <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="4">
      <Image Source="avares://DicomSync/Resources/arrow_left.png"
             Width="24" Height="24" />
      <TextBlock Text="Move ← Left" HorizontalAlignment="Center"/>
    </StackPanel>
  </Button>

  <!-- Sync -->
  <Button Width="170" Height="70" Click="OnSyncClick">
    <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="4">
      <Image Source="avares://DicomSync/Resources/arrow_refresh.png"
             Width="24" Height="24" />
      <TextBlock Text="Sync" HorizontalAlignment="Center"/>
    </StackPanel>
  </Button>

  <!-- Pause -->
  <Button Width="170" Height="70" Click="OnPauseClick">
    <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="4">
      <Image Source="avares://DicomSync/Resources/hand_point.png"
             Width="24" Height="24" />
      <TextBlock Text="Pause" HorizontalAlignment="Center"/>
    </StackPanel>
  </Button>

</StackPanel>

      </Border>



      <!-- ========================================= -->
      <!-- RIGHT PACS PANEL                          -->
      <!-- ========================================= -->
      <Border Grid.Column="2"
              Margin="5,0,0,0"
              BorderBrush="Gray"
              BorderThickness="1"
              CornerRadius="4">

        <Grid Margin="6"
              RowDefinitions="Auto,*">

          <!-- RIGHT AE rectangle -->
          <Border Grid.Row="0"
                  BorderBrush="Gray"
                  BorderThickness="1"
                  CornerRadius="3"
                  Margin="0,0,0,6">

            <Grid Margin="6"
                  ColumnDefinitions="Auto,*,Auto,*,Auto,Auto,Auto">

              <TextBlock Grid.Column="0"
                         Text="AE Title:"
                         VerticalAlignment="Center"
                         Margin="0,0,4,0" />
              <TextBox Grid.Column="1"
                       x:Name="RightAeTitleBox"
                       Margin="0,0,8,0"
                       Watermark="RIGHT_AE" />

              <TextBlock Grid.Column="2"
                         Text="Hostname:"
                         VerticalAlignment="Center"
                         Margin="0,0,4,0" />
              <TextBox Grid.Column="3"
                       x:Name="RightHostnameBox"
                       Margin="0,0,8,0"
                       Watermark="right.host" />

              <TextBlock Grid.Column="4"
                         Text="Port:"
                         VerticalAlignment="Center"
                         Margin="0,0,4,0" />
              <TextBox Grid.Column="5"
                       x:Name="RightPortBox"
                       Width="70"
                       Text="104"
                       Margin="0,0,8,0" />

              <Button Grid.Column="6"
                      Content="Echo"
                      Width="70"
                      Margin="0,0,4,0"
                      HorizontalAlignment="Right"
                      VerticalAlignment="Center"
                      Click="OnRightEchoClick" />

            </Grid>
          </Border>


          <!-- RIGHT TreeView -->
          <Border Grid.Row="1"
                  BorderBrush="Gray"
                  BorderThickness="1"
                  CornerRadius="3">
            <TreeView Margin="4"
                      x:Name="RightTree">
              <TreeViewItem Header="Right Root">
                <TreeViewItem Header="Right 1.1" />
                <TreeViewItem Header="Right 1.2" />
              </TreeViewItem>
            </TreeView>
          </Border>

        </Grid>
      </Border>

    </Grid>



    <!-- ========================================================= -->
    <!-- Row 3 : STATUS BAR                                        -->
    <!-- ========================================================= -->
    <TextBlock x:Name="StatusText"
               Grid.Row="3"
               Margin="10,0,10,10"
               VerticalAlignment="Center"
               Text="Ready."
               Foreground="Gray" />

  </Grid>
</Window>
